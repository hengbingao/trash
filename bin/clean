#!/usr/bin/env bash

# 找到 src 目录
script_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")/../src" && pwd)"

# 帮助信息
show_help() {
    echo "clean - Manage junk files"
    echo
    echo "Usage:"
    echo "  clean go <files...>      Move specified files to \$MYGROUP/trash"
    echo "  clean all                Clean all files under \$MYGROUP/trash"
    echo "  clean -h|--help          Show this help message"
}

# 如果没有参数，显示帮助
if [[ $# -eq 0 ]]; then
    show_help
    exit 1
fi

# 判断子命令
case $1 in
    go)
        shift
        "$script_dir/trash_go.sh" "$@"
        ;;
    all)
        "$script_dir/trash_clean.sh"
        ;;
    -h|--help)
        show_help
        ;;
    *)
        echo "Unknown command: $1"
        show_help
        exit 1
        ;;
esac
